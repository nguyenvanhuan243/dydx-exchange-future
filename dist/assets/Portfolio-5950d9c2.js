import{g as n,h as D,l,_ as W,J as F,k as j,$ as Z,c as $,j as e,a0 as ee,q as L,a1 as te,S as r,i as S,f as x,a2 as ie,a3 as re,a4 as ae,s as P,a5 as oe,B as O,v as A,a6 as R,a7 as _,a8 as ne,p as z,y as se,a9 as H,aa as N,O as Q,z as le,L as ce,ab as C,u as G,ac as de,ad as he,ae as pe,I as ue,af as me,ag as ge,ah as be,b as xe,A as b,ai as o,aj as y,ak as fe,al as ve,r as T,am as k,an as Se,ao as ye,ap as Te,aq as we,ar as je,as as M,e as ke,F as Ie,at as Ce,au as u,av as U,T as q,aw as K,ax as Ee,ay as Y,az as Oe}from"./index-12ab17f1.js";import{T as Ae,F as Re,a as m}from"./FillsTable-6f5a0dea.js";import{t as _e}from"./tradeViewMixins-e79b6162.js";import{V as Pe}from"./VaultTransactions-df770d3d.js";const $e=({children:t,sidebar:a})=>{const h=F(),s=j(Z),i=$();return e.jsxs(Ne,{"data-state":a?s?"open":"closed":"none",children:[a&&e.jsxs(De,{children:[e.jsx(Be,{shape:ee.Pill,size:s?L.XSmall:L.Base,isPressed:!s,onPressedChange:c=>h(te(!c)),children:s?i({key:r.HIDE}):e.jsx(S,{iconName:x.Menu})}),e.jsx(Fe,{"data-state":s?"open":"closed",children:a})]}),e.jsx(Ve,{children:t})]})},Ne=n.div.withConfig({componentId:"sc-srzhfg-0"})(["--withSidebar-containerWidth:100vw;--withSidebar-open-sidebarWidth:var(--sidebar-width);--withSidebar-closed-sidebarWidth:var(--collapsed-sidebar-width);--withSidebar-gap:var(--border-width);--withSidebar-current-sidebarWidth:0px;--withSidebar-current-contentAreaWidth:calc( var(--withSidebar-containerWidth) - var(--withSidebar-gap) - var( --withSidebar-current-sideAreaWidth ) );&[data-state='none']{--withSidebar-open-sideAreaWidth:0px;--withSidebar-closed-sideAreaWidth:0px;}&[data-state='open']{--withSidebar-current-sidebarWidth:var(--withSidebar-open-sidebarWidth);}&[data-state='closed']{--withSidebar-current-sidebarWidth:var(--withSidebar-closed-sidebarWidth);}@media ","{--withSidebar-current-sideAreaWidth:var(--withSidebar-current-sidebarWidth);--withSidebar-gridTemplate:'Side Content' 100% / auto 1fr;}@media ","{--withSidebar-current-sideAreaWidth:0px;--withSidebar-gridTemplate:'Content' 100% / 1fr;}"," --stickyArea1-leftWidth:var(--withSidebar-current-sideAreaWidth);--stickyArea1-leftGap:var(--border-width);min-height:var(--stickyArea-height);display:grid;grid-template:var(--withSidebar-gridTemplate);"],D.notTablet,D.tablet,l.stickyArea1),De=n.aside.withConfig({componentId:"sc-srzhfg-1"})(["grid-area:Side;"," "," max-height:var(--stickyArea-height);backdrop-filter:none;background-color:var(--color-layer-2);",""],l.container,l.sticky,l.stack),Fe=n.div.withConfig({componentId:"sc-srzhfg-2"})(["--current-sidebar-width:var(--sidebar-width);"," width:min(var(--withSidebar-current-sidebarWidth),var(--withSidebar-containerWidth));transition:var(--ease-out-expo) 0.3s;transform:perspective(62.5em);transform-origin:left top;&[data-state='closed']{--current-sidebar-width:var(--collapsed-sidebar-width);opacity:0;pointer-events:none;transform:perspective(62.5em) translateZ(-12.5em);}"," &:hover{will-change:width;}"],l.scrollArea,l.sticky),Be=n(ie).withConfig({componentId:"sc-srzhfg-3"})(["--button-toggle-on-backgroundColor:transparent;place-self:start end;z-index:2;min-width:0;min-height:0;&[data-state='off']{margin:0.75rem;@media (prefers-reduced-motion:no-preference){animation:"," 0.2s;}}&[data-state='on']{--button-border:none;--button-radius:0;min-width:100%;min-height:100%;outline-color:transparent;@media (prefers-reduced-motion:no-preference){transition:var(--ease-out-expo) 0.25s;animation:"," 0.2s;}}"],W(["10%,40%{opacity:0;scale:0;}"]),W(["20%{opacity:0;scale:0;}"])),Ve=n.article.withConfig({componentId:"sc-srzhfg-4"})(["grid-area:Content;"," --content-container-width:var(--withSidebar-current-contentAreaWidth);"," transition:var(--ease-out-expo) 0.25s;"],l.contentContainerPage,l.stickyArea2);var J=(t=>(t.Time="Time",t.Action="Action",t.SenderRecipient="Sender-Recipient",t.Amount="Amount",t.TxHash="TxHash",t))(J||{});const We=({key:t,stringGetter:a,width:h,mintscanTxUrl:s})=>({width:h,...{Time:{columnKey:"Time",getCellValue:i=>i.updatedAtMilliseconds,label:a({key:r.TIME}),renderCell:({updatedAtMilliseconds:i})=>e.jsx(He,{type:z.RelativeTime,relativeTimeOptions:{format:"singleCharacter"},value:i})},Action:{columnKey:"Action",getCellValue:i=>i.resources.typeStringKey,label:a({key:r.ACTION}),renderCell:({resources:i})=>i.typeStringKey&&a({key:i.typeStringKey})},["Sender-Recipient"]:{columnKey:"Sender-Recipient",getCellValue:i=>`${i.fromAddress}-${i.toAddress}`,label:e.jsxs(Ae,{children:[e.jsx("span",{children:a({key:r.TRANSFER_SENDER})}),e.jsx("span",{children:a({key:r.TRANSFER_RECIPIENT})})]}),renderCell:({fromAddress:i,toAddress:c})=>e.jsxs(se,{stacked:!0,children:[e.jsx(H,{buttonType:"text",value:i??void 0,children:i?N(i):"-"})," ",e.jsx(H,{buttonType:"text",value:c??void 0,children:c?N(c):"-"})]})},Amount:{columnKey:"Amount",getCellValue:i=>i.amount,label:a({key:r.AMOUNT}),renderCell:({amount:i})=>e.jsx(Q,{type:z.Fiat,value:i})},TxHash:{columnKey:"TxHash",getCellValue:i=>i.transactionHash,label:a({key:r.TRANSACTION}),renderCell:({transactionHash:i})=>i?e.jsx(Me,{withIcon:!0,href:`${s==null?void 0:s.replace("{tx_hash}",i)}`,children:N(i,"")}):"-"}}[t]}),Le=({columnKeys:t=Object.values(J),columnWidths:a,initialPageSize:h,withOuterBorder:s,withInnerBorders:i=!0})=>{const c=$(),d=F(),{mintscan:p}=re(),f=j(ae,P),I=j(oe,P)??[];return e.jsx(ze,{label:"Transfers",data:I,getRowKey:g=>g.id,columns:t.map(g=>We({key:g,stringGetter:c,width:a==null?void 0:a[g],mintscanTxUrl:p})),slotEmpty:e.jsxs(e.Fragment,{children:[c({key:r.TRANSFERS_EMPTY_STATE}),f?e.jsx(O,{action:A.Primary,onClick:()=>d(R(_.Deposit())),children:c({key:r.DEPOSIT_FUNDS})}):e.jsx(ne,{})]}),initialPageSize:h,selectionBehavior:"replace",withOuterBorder:s,withInnerBorders:i,withScrollSnapColumns:!0,withScrollSnapRows:!0})},ze=n(le).withConfig({componentId:"sc-15lvjnl-0"})(["",""],_e.horizontalTable);var He=n(Q).withConfig({componentId:"sc-15lvjnl-1"})({color:"var(--color-text-0)"}),Me=n(ce).withConfig({componentId:"sc-15lvjnl-2"})({justifyContent:"flex-end"});const Ue=({items:t,onValueChange:a,children:h,sideOffset:s=8,className:i})=>{const{isMobile:c}=G();return e.jsxs(de,{children:[e.jsx(X,{className:i,asChild:!0,children:e.jsxs("div",{children:[h,e.jsx(qe,{iconName:x.Caret,isToggle:!0})]})}),e.jsx(he,{children:e.jsx(Ke,{align:c?"center":"start",sideOffset:s,loop:!0,className:i,children:t.map(({value:d,label:p,description:f,onSelect:I,disabled:g})=>e.jsxs(Ye,{textValue:d,onSelect:()=>{var v;return(v=I??a)==null?void 0:v(d)},disabled:g,children:[e.jsx(Qe,{children:p}),e.jsx(Ge,{children:f})]},d))})})]})},X=n(pe).withConfig({componentId:"sc-kj4xsi-0"})([""," "," --trigger-padding:0.33rem 0.5rem;--trigger-textColor:var(--color-text-2);--trigger-backgroundColor:none;--trigger-open-backgroundColor:none;--trigger-open-textColor:var(--color-text-2);&[data-state='open']:after{-webkit-backdrop-filter:brightness(var(--overlay-filter));backdrop-filter:brightness(var(--overlay-filter));height:100vh;}"," width:100%;font:var(--font-extra-medium);outline:none;&:hover{filter:brightness(var(--hover-filter-base));}"],C.trigger,C.backdropOverlay,l.row),qe=n(ue).withConfig({componentId:"sc-kj4xsi-1"})(["--button-textColor:var(--color-text-2);","[data-state='open'] &{rotate:-0.5turn;}"],X),Ke=n(me).withConfig({componentId:"sc-kj4xsi-2"})([""," "," "," --popover-shadow-size:var(--border-width);@media ","{--popover-width:calc(100vw - 3rem);--popover-margin:0 1.5rem;}> *{background-color:inherit;}"],l.withOuterAndInnerBorders,C.popover,C.popoverAnimation,D.mobile),Ye=n(ge).withConfig({componentId:"sc-kj4xsi-3"})([""," --item-padding:0.75rem 1rem;"," gap:0.5rem;"],C.item,l.column);var Qe=n("span").withConfig({componentId:"sc-kj4xsi-4"})({color:"var(--color-text-2)",font:"var(--font-medium-book)"}),Ge=n("span").withConfig({componentId:"sc-kj4xsi-5"})({color:"var(--color-text-0)",font:"var(--font-small-book)"});const Je=()=>{const t=$(),{pathname:a}=be(),h=xe(),{enableVaults:s}=ve,i=[{value:`${b.Portfolio}/${o.Overview}`,label:t({key:r.OVERVIEW}),description:t({key:r.OVERVIEW_DESCRIPTION})},{value:`${b.Portfolio}/${o.Positions}`,label:t({key:r.POSITIONS}),description:t({key:r.POSITIONS_DESCRIPTION})},{value:`${b.Portfolio}/${o.Orders}`,label:t({key:r.ORDERS}),description:t({key:r.ORDERS_DESCRIPTION})},{value:`${b.Portfolio}/${o.Fees}`,label:t({key:r.FEES}),description:t({key:r.FEE_STRUCTURE})},{value:`${b.Portfolio}/${o.EquityTiers}`,label:t({key:r.EQUITY_TIERS}),description:t({key:r.EQUITY_TIERS_DESCRIPTION})},{value:`${b.Portfolio}/${o.History}/${y.Trades}`,label:t({key:r.TRADES}),description:t({key:r.TRADES_DESCRIPTION})},{value:`${b.Portfolio}/${o.History}/${y.Transfers}`,label:t({key:r.TRANSFERS}),description:t({key:r.TRANSFERS_DESCRIPTION})},s&&{value:`${b.Portfolio}/${o.History}/${y.VaultTransfers}`,label:t({key:r.VAULT_TRANSFERS}),description:t({key:r.MEGAVAULT_TRANSFERS_DESCRIPTION})}].filter(fe),d=Object.fromEntries(i.map(({value:p,label:f})=>[p,{value:p,label:f}]))[a];return e.jsx(Xe,{children:e.jsx(Ue,{items:i.filter(({value:p})=>p!==(d==null?void 0:d.value)),onValueChange:h,children:d==null?void 0:d.label},"portfolioRoute")})},Xe=n.div.withConfig({componentId:"sc-njgg7d-0"})([""," "," "," padding:1rem;background-color:var(--color-layer-2);z-index:2;"],l.stickyHeader,l.withOuterBorder,l.row),Ze=T.lazy(()=>k(()=>import("./Overview-22f48d9e.js"),["assets/Overview-22f48d9e.js","assets/index-12ab17f1.js","assets/index-2f3a0824.css","assets/UnopenedIsolatedPositions-5a4f6f63.js","assets/tradeViewMixins-e79b6162.js","assets/FillsTable-6f5a0dea.js","assets/ActionsTableCell-517ee0d5.js","assets/ContentSection-d450bf80.js","assets/ContentSectionHeader-241fb95a.js","assets/TriangleIndicator-f26e9242.js"]).then(t=>({default:t.Overview}))),et=T.lazy(()=>k(()=>import("./Positions-af1440f0.js"),["assets/Positions-af1440f0.js","assets/index-12ab17f1.js","assets/index-2f3a0824.css","assets/UnopenedIsolatedPositions-5a4f6f63.js","assets/tradeViewMixins-e79b6162.js","assets/FillsTable-6f5a0dea.js","assets/ActionsTableCell-517ee0d5.js","assets/ContentSection-d450bf80.js","assets/ContentSectionHeader-241fb95a.js"]).then(t=>({default:t.Positions}))),tt=T.lazy(()=>k(()=>import("./Orders-1aff745b.js"),["assets/Orders-1aff745b.js","assets/index-12ab17f1.js","assets/index-2f3a0824.css","assets/ContentSection-d450bf80.js","assets/ContentSectionHeader-241fb95a.js","assets/OrdersTable-922f5bb7.js","assets/tradeViewMixins-e79b6162.js","assets/FillsTable-6f5a0dea.js","assets/ActionsTableCell-517ee0d5.js"]).then(t=>({default:t.Orders}))),it=T.lazy(()=>k(()=>import("./Fees-894189a6.js"),["assets/Fees-894189a6.js","assets/index-12ab17f1.js","assets/index-2f3a0824.css","assets/ContentSection-d450bf80.js","assets/ContentSectionHeader-241fb95a.js"]).then(t=>({default:t.Fees}))),rt=T.lazy(()=>k(()=>import("./EquityTiers-b6ae473c.js"),["assets/EquityTiers-b6ae473c.js","assets/index-12ab17f1.js","assets/index-2f3a0824.css","assets/ContentSection-d450bf80.js","assets/ContentSectionHeader-241fb95a.js"]).then(t=>({default:t.EquityTiers}))),at=T.lazy(()=>k(()=>import("./History-2e9238cd.js"),["assets/History-2e9238cd.js","assets/index-12ab17f1.js","assets/index-2f3a0824.css","assets/ContentSection-d450bf80.js"]).then(t=>({default:t.History}))),mt=()=>{const t=F(),a=$(),{isTablet:h,isNotTablet:s}=G(),{complianceState:i}=Se(),c=20,d=j(ye),{freeCollateral:p}=j(Te,P)??{},{nativeTokenBalance:f}=we(),{numTotalPositions:I,numTotalOpenOrders:g}=j(je,P)??{},v=M(I),E=M(g),B=(p==null?void 0:p.current)??0;ke(a({key:r.PORTFOLIO}));const V=e.jsx(T.Suspense,{fallback:e.jsx(Ie,{id:"portfolio"}),children:e.jsxs(Ce,{children:[e.jsx(u,{path:o.Overview,element:e.jsx(Ze,{})}),e.jsx(u,{path:o.Positions,element:e.jsx(et,{})}),e.jsx(u,{path:o.Orders,element:e.jsx(tt,{})}),e.jsx(u,{path:o.Fees,element:e.jsx(it,{})}),e.jsx(u,{path:o.EquityTiers,element:e.jsx(rt,{})}),e.jsxs(u,{path:o.History,element:e.jsx(at,{}),children:[e.jsx(u,{index:!0,path:"*",element:e.jsx(U,{to:y.Trades})}),e.jsx(u,{path:y.Trades,element:e.jsx(Re,{initialPageSize:c,columnKeys:h?[m.Time,m.TypeAmount,m.PriceFee]:[m.Time,m.Market,m.Side,m.AmountPrice,m.TotalFee,m.Type,m.Liquidity],withOuterBorder:s})}),e.jsx(u,{path:y.Transfers,element:e.jsx(Le,{initialPageSize:c,withOuterBorder:s})}),e.jsx(u,{path:y.VaultTransfers,element:e.jsx(Pe,{withOuterBorders:!0,emptyString:a({key:r.YOU_HAVE_NO_VAULT_DEPOSITS})})})]}),e.jsx(u,{path:"*",element:e.jsx(U,{to:o.Overview,replace:!0})})]})});return h?e.jsxs(ot,{children:[e.jsx(Je,{}),e.jsx(st,{children:V})]}):e.jsx($e,{sidebar:h?null:e.jsxs(lt,{children:[e.jsx(ct,{items:[{group:"views",groupLabel:a({key:r.VIEWS}),items:[{value:o.Overview,slotBefore:e.jsx(w,{children:e.jsx(S,{iconName:x.Overview})}),label:a({key:r.OVERVIEW}),href:o.Overview},{value:o.Positions,slotBefore:e.jsx(w,{children:e.jsx(S,{iconName:x.Positions})}),label:e.jsxs(e.Fragment,{children:[a({key:r.POSITIONS}),v&&(typeof v=="string"||v>0)&&e.jsxs(q,{type:K.Number,children:[" ",v," "]})]}),href:o.Positions},{value:o.Orders,slotBefore:e.jsx(w,{children:e.jsx(S,{iconName:x.OrderPending})}),label:e.jsxs(e.Fragment,{children:[a({key:r.ORDERS}),E&&(typeof E=="string"||E>0)&&e.jsxs(q,{type:K.Number,children:[" ",E," "]})]}),href:o.Orders},{value:o.Fees,slotBefore:e.jsx(w,{children:e.jsx(S,{iconName:x.Calculator})}),label:a({key:r.FEES}),href:o.Fees},{value:o.EquityTiers,slotBefore:e.jsx(w,{children:e.jsx(S,{iconName:x.List})}),label:a({key:r.EQUITY_TIERS}),href:o.EquityTiers},{value:o.History,slotBefore:e.jsx(w,{children:e.jsx(S,{iconName:x.History})}),label:a({key:r.HISTORY}),href:o.History}]}]}),d===Ee.AccountConnected&&e.jsxs(nt,{children:[i===Y.FULL_ACCESS&&e.jsx(O,{action:A.Primary,onClick:()=>t(R(_.Deposit())),children:a({key:r.DEPOSIT})}),B>0&&e.jsx(O,{action:A.Base,onClick:()=>t(R(_.Withdraw())),children:a({key:r.WITHDRAW})}),i===Y.FULL_ACCESS&&(B>0||f.gt(0))&&e.jsx(O,{action:A.Base,onClick:()=>t(R(_.Transfer({}))),children:a({key:r.TRANSFER})})]})]}),children:V})},ot=n.div.withConfig({componentId:"sc-1kcx1mh-0"})(["min-height:100%;",""],l.expandingColumnWithHeader),nt=n.div.withConfig({componentId:"sc-1kcx1mh-1"})([""," flex-wrap:wrap;padding:1rem;gap:0.5rem;> button{flex-grow:1;}"],l.row),w=n.div.withConfig({componentId:"sc-1kcx1mh-2"})(["width:1.5rem;height:1.5rem;font-size:0.75rem;display:flex;justify-content:center;align-items:center;background-color:var(--color-layer-4);border-radius:50%;margin-left:-0.25rem;"]),st=n.article.withConfig({componentId:"sc-1kcx1mh-3"})(["",""],l.contentContainerPage);var lt=n("div").withConfig({componentId:"sc-1kcx1mh-4"})({display:"flex",flexDirection:"column",minWidth:"0",height:"100%",justifyContent:"space-between"}),ct=n(Oe).withConfig({componentId:"sc-1kcx1mh-5"})({padding:"0.5rem",paddingTop:"0px"});export{mt as default};
