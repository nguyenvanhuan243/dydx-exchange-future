import{o as U,k as q,m as re,s as ie,r as w,n as le,g as o,l as v,B as F,O as y,c as T,d as se,j as e,S as a,p as d,T as z,q as V,t as ce,v as W,h as p,w as de,x as me,y as R,z as Y,u as Q,b as $,M as f,C as j,D as N,i as P,f as A,A as E,E as X,F as J,G as ge,H as ue,J as pe,K as he,P as Z,Q as fe,R as ee,U as xe,V as ve,e as ye,W as be,X as Ce,I as ke,Y as je,Z as we}from"./index-12ab17f1.js";import{C as Ie}from"./ContentSectionHeader-241fb95a.js";import{u as te,M as Se}from"./MarketFilter-b289d076.js";import{t as ne}from"./tradeViewMixins-e79b6162.js";import{T as oe}from"./TriangleIndicator-f26e9242.js";import{S as Ee}from"./SparklineChart-2e010e5d.js";import"./dark-26010354.js";const Re=2e-4,Te=()=>{const n=U(q(re,ie)),r=w.useMemo(()=>Object.values(n).filter(le),[n]);return{stats:w.useMemo(()=>{let l=0,m=0;for(const{oraclePrice:u,perpetual:h}of r){const{volume24H:C,openInterest:k=0}=h??{};l+=C??0,u&&(m+=k*u)}return{volume24HUSDC:l,openInterestUSDC:m,feesEarned:l*Re}},[r])}},_e=()=>{const n=T(),{chainTokenLabel:r}=se(),{stats:{volume24HUSDC:i,openInterestUSDC:l,feesEarned:m}}=Te();return e.jsx(Ae,{children:[{key:"volume",labelKey:a.TRADING_VOLUME,tagKey:a._24H,value:i||void 0,fractionDigits:0,type:d.Fiat},{key:"open-interest",labelKey:a.OPEN_INTEREST,tagKey:a.CURRENT,value:l||void 0,fractionDigits:0,type:d.Fiat},{key:"fee-earned-stakers",labelKey:a.EARNED_BY_STAKERS,tagKey:a._24H,value:m,type:d.Fiat,linkLabelKey:a.LEARN_MORE_ARROW,link:`${r}`}].map(({key:u,labelKey:h,tagKey:C,value:k,fractionDigits:s,type:c,link:g,linkLabelKey:I})=>e.jsx(De,{children:e.jsxs(Ne,{children:[e.jsxs(Fe,{children:[e.jsx("label",{children:n({key:h})}),e.jsx(z,{children:n({key:C})}),g&&I?e.jsx(Me,{href:g,size:V.Small,type:ce.Link,action:W.Navigation,children:n({key:I})}):null]}),e.jsx($e,{useGrouping:!0,withBaseFont:!0,fractionDigits:s,type:c,value:k})]})},u))})},Me=o(F).withConfig({componentId:"sc-lzjflr-0"})(["--button-textColor:var(--color-accent);--button-height:unset;--button-padding:0;justify-content:flex-start;margin-left:auto;"]),Ne=o.div.withConfig({componentId:"sc-lzjflr-1"})([""," flex:1;label{color:var(--color-text-0);font:var(--font-small-medium);}output{color:var(--color-text-1);font:var(--font-large-medium);}"],v.column);var Ae=o("div").withConfig({componentId:"sc-lzjflr-2"})({display:"grid",gridAutoFlow:"row",gridTemplateColumns:"minmax(0, 1fr)",gap:"0.5rem"}),De=o("div").withConfig({componentId:"sc-lzjflr-3"})({display:"flex",flexDirection:"row",alignItems:"center",flex:"1 1 0%",justifyContent:"space-between",borderRadius:"0.625rem",backgroundColor:"var(--color-layer-3)",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingTop:"1rem",paddingBottom:"1rem"}),Fe=o("div").withConfig({componentId:"sc-lzjflr-4"})({display:"flex",flexDirection:"row",alignItems:"center",gap:"0.375rem"}),$e=o(y).withConfig({componentId:"sc-lzjflr-5"})({color:"var(--color-text-2)",font:"var(--font-extra-book)","@media (max-width: 64rem)":{font:"var(--font-base-book)"}});const D=n=>{const{symbol:r,name:i,stacked:l,configs:m,className:u}=n,{initialMarginFraction:h,effectiveInitialMarginFraction:C}=U(m),k=m!=null?e.jsx(y,{type:d.Multiple,value:me({effectiveInitialMarginFraction:C,initialMarginFraction:h}),fractionDigits:0}):void 0;return e.jsx(R,{className:u,slotLeft:e.jsx(Oe,{stacked:l,symbol:r}),children:e.jsxs(Pe,{stacked:l,children:[e.jsxs(Ke,{children:[e.jsx(He,{stacked:l,children:i}),e.jsx(z,{children:k})]}),l?e.jsx(Le,{children:r}):void 0]})})},Pe=o.div.withConfig({componentId:"sc-1eemviw-0"})(["gap:",";display:flex;flex-direction:",";align-items:",";"],({stacked:n})=>n?"0.125rem":"0.75rem",({stacked:n})=>n?"column":"row",({stacked:n})=>n?"flex-start":"center"),Oe=o(de).withConfig({componentId:"sc-1eemviw-1"})(["font-size:",";@media ","{font-size:",";}"],({stacked:n})=>n?"1.5rem":"2rem",p.tablet,({stacked:n})=>n?"1.5rem":"2.25rem"),He=o.span.withConfig({componentId:"sc-1eemviw-2"})(["color:var(--color-text-1);font:",";"],({stacked:n})=>n?"var(--font-small-medium)":"var(--font-medium-medium)");var Ke=o("div").withConfig({componentId:"sc-1eemviw-3"})({display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"}),Le=o("span").withConfig({componentId:"sc-1eemviw-4"})({color:"var(--color-text-0)",font:"var(--font-mini-medium)"});const O=({className:n,filters:r,sorting:i})=>{const l=T(),{isTablet:m}=Q(),u=$(),{filteredMarkets:h}=te(r),C=w.useMemo(()=>[{columnKey:"market",allowsSorting:!1,label:l({key:a.MARKET}),renderCell:({assetId:s,effectiveInitialMarginFraction:c,initialMarginFraction:g,name:I})=>e.jsx(D,{stacked:!0,configs:{effectiveInitialMarginFraction:c,initialMarginFraction:g},name:I,symbol:s})},{columnKey:"oraclePrice",allowsSorting:!1,label:l({key:a.ORACLE_PRICE}),renderCell:({oraclePrice:s,priceChange24H:c,priceChange24HPercent:g,tickSizeDecimals:I})=>e.jsxs(R,{stacked:!0,children:[e.jsx(ze,{withBaseFont:!0,withSubscript:!0,type:d.Fiat,value:s,fractionDigits:I}),e.jsx(Be,{children:c?e.jsxs(e.Fragment,{children:[c>0&&e.jsx(oe,{value:f(c)}),e.jsx(Ue,{type:d.Percent,value:f(g).abs(),isPositive:f(g).gt(0),isNegative:f(g).isNegative()})]}):e.jsx(y,{type:d.Fiat,value:null})})]})},i===j.HIGHEST_CLOB_PAIR_ID?{columnKey:"listing",allowsSorting:!1,label:void 0,renderCell:({isNew:s})=>e.jsxs(H,{children:[s&&e.jsx(K,{children:e.jsx(N,{children:l({key:a.NEW})})}),e.jsx(P,{iconName:A.ChevronRight})]})}:{columnKey:"openInterest",allowsSorting:!1,label:l({key:a.OPEN_INTEREST}),renderCell:({assetId:s,openInterestUSDC:c,openInterest:g})=>e.jsxs(H,{children:[e.jsxs(K,{children:[e.jsx(y,{type:d.CompactFiat,value:c}),e.jsx(Ve,{type:d.CompactNumber,value:g,slotRight:` ${s}`})]}),e.jsx(P,{iconName:A.ChevronRight})]})}],[l,m]),k=w.useMemo(()=>{if(i===j.HIGHEST_CLOB_PAIR_ID)return h.sort((s,c)=>c.clobPairId-s.clobPairId);if(i===j.GAINERS||i===j.LOSERS){const s=(c,g)=>c.priceChange24HPercent==null&&g.priceChange24HPercent==null?0:c.priceChange24HPercent==null?1:g.priceChange24HPercent==null?-1:i===j.GAINERS?g.priceChange24HPercent-c.priceChange24HPercent:c.priceChange24HPercent-g.priceChange24HPercent;return h.sort(s)}return h},[i,h]);return e.jsx(Ge,{withInnerBorders:!0,data:k.slice(0,3),getRowKey:s=>s.id??"",label:"Markets",onRowAction:s=>u(`${E.Trade}/${s}`,{state:{from:E.Markets}}),columns:C,className:n,slotEmpty:e.jsx(qe,{children:r===X.NEW?e.jsx("p",{children:l({key:a.NO_RECENTLY_LISTED_MARKETS})}):e.jsx(J,{id:"compact-markets-table"})}),initialPageSize:5})},Ge=o(Y).withConfig({componentId:"sc-f2heqk-0"})([""," --tableCell-padding:0.625rem 1.25rem;--tableRow-backgroundColor:var(--color-layer-3);--tableHeader-backgroundColor:var(--color-layer-3);border-bottom-right-radius:0.625rem;border-bottom-left-radius:0.625rem;thead{display:none;}& table{--stickyArea1-background:var(--color-layer-5);}& tr:last-child{box-shadow:none;}& tbody:after{content:none;}& > div{padding:1rem;}@media ","{--tableCell-padding:0.5rem 0.5rem;& tr > td:nth-child(1){--tableCell-padding:0.5rem 0.5rem;}& tr > td:nth-child(2){--tableCell-padding:0.5rem 0;}& tr > td:nth-child(3){--tableCell-padding:0.5rem 0.5rem;}}@media ","{table{max-width:100vw;}& tr > td:nth-child(1){--tableCell-padding:0.5rem 0.625rem 0.5rem 1rem;}& tr > td:nth-child(2){--tableCell-padding:0.5rem 0;}& tr > td:nth-child(3){--tableCell-padding:0.5rem 1rem 0.5rem 0.625rem;}}"],ne.horizontalTable,p.desktopSmall,p.tablet),Be=o.div.withConfig({componentId:"sc-f2heqk-1"})([""," & output{font:var(--font-mini-medium);}"],v.inlineRow),Ue=o(y).withConfig({componentId:"sc-f2heqk-2"})(["color:",";font:var(--font-base-medium);"],({isNegative:n,isPositive:r})=>n?"var(--color-negative)":r?"var(--color-positive)":"var(--color-text-1)"),qe=o.div.withConfig({componentId:"sc-f2heqk-3"})([""," justify-content:center;align-items:center;text-align:center;padding:0;& p{color:var(--color-text-0);font:var(--font-base-medium);}& button{color:var(--color-accent);}"],v.column),H=o(R).withConfig({componentId:"sc-f2heqk-4"})([""," gap:0.75rem;& > svg{opacity:0.4;}"],v.row),K=o.div.withConfig({componentId:"sc-f2heqk-5"})([""," gap:0.125rem;& > span,& > output{text-align:right;justify-content:flex-end;}"],v.column);var ze=o(y).withConfig({componentId:"sc-f2heqk-6"})({color:"var(--color-text-1)",font:"var(--font-small-medium)"}),Ve=o(y).withConfig({componentId:"sc-f2heqk-7"})({color:"var(--color-text-0)",font:"var(--font-mini-medium)"});const We=n=>{const{className:r}=n,i=T(),[l,m]=w.useState(j.GAINERS);return e.jsxs(Qe,{className:r,children:[e.jsx(_e,{}),e.jsxs(L,{children:[e.jsx(G,{children:e.jsxs(Xe,{children:[i({key:a.RECENTLY_LISTED}),e.jsx(N,{children:i({key:a.NEW})})]})}),e.jsx(O,{sorting:j.HIGHEST_CLOB_PAIR_ID})]}),e.jsxs(L,{children:[e.jsxs(G,{children:[e.jsx("h4",{children:i({key:a.BIGGEST_MOVERS})}),e.jsx(N,{children:i({key:a._24H})}),e.jsx(Ye,{children:e.jsx(ge,{items:[{label:i({key:a.GAINERS}),value:j.GAINERS},{label:i({key:a.LOSERS}),value:j.LOSERS}],value:l,onValueChange:m})})]}),e.jsx(O,{sorting:l})]})]})},L=o.div.withConfig({componentId:"sc-10x8bpw-0"})({display:"grid",gridTemplateRows:"auto 1fr",borderRadius:"0.625rem",backgroundColor:"var(--color-layer-3)"}),Ye=o.div.withConfig({componentId:"sc-10x8bpw-1"})([""," position:absolute;top:1rem;right:1rem;z-index:2;@media ","{top:0.8125rem;}& button{--button-toggle-off-backgroundColor:var(--color-layer-3);--button-toggle-off-textColor:var(--color-text-1);--border-color:var(--color-layer-6);--button-height:1.75rem;--button-padding:0 0.75rem;--button-font:var(--font-mini-book);}"],v.row,p.tablet),G=o.div.withConfig({componentId:"sc-10x8bpw-2"})([""," position:relative;padding:1.25rem;gap:0.25rem;& h4{font:var(--font-base-medium);color:var(--color-text-2);}@media ","{padding:1rem;}"],v.row,p.tablet);var Qe=o("section").withConfig({componentId:"sc-10x8bpw-3"})({display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1rem","@media (max-width: 64rem)":{display:"grid",gridAutoFlow:"row",gridTemplateColumns:"minmax(0, 1fr)"},"@media (max-width: 80rem)":{paddingLeft:"1rem",paddingRight:"1rem"}}),Xe=o("h4").withConfig({componentId:"sc-10x8bpw-4"})({display:"flex",alignItems:"center",gap:"0.375rem"});const Je=({className:n})=>{const r=T(),{isTablet:i}=Q(),l=pe(),m=q(he),[u,h]=w.useState(),C=$(),{filteredMarkets:k,marketFilters:s}=te(m,u),{hasPotentialMarketsData:c}=Z(),g=w.useMemo(()=>i?[{columnKey:"market",getCellValue:t=>t.id,label:r({key:a.MARKET}),renderCell:({assetId:t,effectiveInitialMarginFraction:b,initialMarginFraction:x,name:S})=>e.jsx(D,{configs:{effectiveInitialMarginFraction:b,initialMarginFraction:x},name:S,symbol:t})},{columnKey:"price",getCellValue:t=>t.oraclePrice,label:r({key:a.PRICE}),renderCell:({oraclePrice:t,priceChange24H:b,priceChange24HPercent:x,tickSizeDecimals:S})=>e.jsxs(R,{stacked:!0,children:[e.jsx(B,{type:d.Fiat,value:t,fractionDigits:S,withBaseFont:!0}),e.jsx(tt,{children:b?e.jsxs(e.Fragment,{children:[b>0&&e.jsx(oe,{value:f(b)}),e.jsx(M,{type:d.Percent,value:f(x).abs(),isPositive:f(x).gt(0),isNegative:f(x).isNegative()})]}):e.jsx(y,{type:d.Fiat,value:null})})]})}]:[{columnKey:"market",getCellValue:t=>t.id,label:r({key:a.MARKET}),renderCell:({assetId:t,effectiveInitialMarginFraction:b,initialMarginFraction:x,name:S})=>e.jsx(D,{configs:{effectiveInitialMarginFraction:b,initialMarginFraction:x},name:S,symbol:t})},{columnKey:"oraclePrice",getCellValue:t=>t.oraclePrice,label:r({key:a.ORACLE_PRICE}),renderCell:({oraclePrice:t,tickSizeDecimals:b})=>e.jsx(B,{type:d.Fiat,value:t,fractionDigits:b})},{columnKey:"priceChange24HChart",label:r({key:a.LAST_24H}),renderCell:({line:t,priceChange24HPercent:b})=>e.jsx(ot,{children:e.jsx(Ee,{data:(t??[]).map((x,S)=>({x:S+1,y:parseFloat(x.toString())})),xAccessor:x=>x.x,yAccessor:x=>x.y,positive:f(b).gt(0)})}),allowsSorting:!1},{columnKey:"priceChange24HPercent",getCellValue:t=>t.priceChange24HPercent,label:r({key:a.CHANGE_24H}),renderCell:({priceChange24HPercent:t})=>e.jsx(R,{stacked:!0,children:e.jsx(ae,{children:t?e.jsx(M,{type:d.Percent,value:f(t).abs(),isPositive:f(t).gt(0),isNegative:f(t).isNegative()}):e.jsx(y,{type:d.Text,value:null})})})},{columnKey:"volume24H",getCellValue:t=>t.volume24H,label:r({key:a.VOLUME_24H}),renderCell:t=>e.jsx(_,{type:d.CompactFiat,value:t.volume24H})},{columnKey:"trades24H",getCellValue:t=>t.trades24H,label:r({key:a.TRADES}),renderCell:t=>e.jsx(_,{type:d.CompactNumber,value:t.trades24H})},{columnKey:"openInterest",getCellValue:t=>t.openInterestUSDC,label:r({key:a.OPEN_INTEREST}),renderCell:t=>e.jsx(_,{type:d.CompactFiat,value:t.openInterestUSDC})},{columnKey:"nextFundingRate",getCellValue:t=>t.nextFundingRate,label:r({key:a.FUNDING_RATE_1H_SHORT}),renderCell:t=>e.jsx(M,{type:d.Percent,fractionDigits:fe,value:t.nextFundingRate,isPositive:f(t.nextFundingRate).gt(0),isNegative:f(t.nextFundingRate).isNegative()})}],[r,i]),I=t=>{l(xe(t))};return e.jsxs(e.Fragment,{children:[e.jsx(Ze,{children:e.jsx(Se,{hideNewMarketButton:!0,compactLayout:!0,searchPlaceholderKey:a.SEARCH_MARKETS,selectedFilter:m,filters:s,onChangeFilter:I,onSearchTextChange:h})}),e.jsx(et,{withInnerBorders:!0,data:k,getRowKey:t=>t.id??"",label:"Markets",onRowAction:t=>C(`${E.Trade}/${t}`,{state:{from:E.Markets}}),defaultSortDescriptor:{column:"volume24H",direction:"descending"},columns:g,paginationBehavior:"showAll",className:n,slotEmpty:e.jsxs(nt,{children:[m===X.NEW&&!u?e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:r({key:a.QUERY_NOT_FOUND,params:{QUERY:r({key:a.NEW})}})}),c&&e.jsx("p",{children:r({key:a.ADD_DETAILS_TO_LAUNCH_MARKET})})]}):u?e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:r({key:a.QUERY_NOT_FOUND,params:{QUERY:u}})}),e.jsx("p",{children:r({key:a.MARKET_SEARCH_DOES_NOT_EXIST_YET})})]}):e.jsx(J,{id:"markets-table"}),c&&e.jsx("div",{children:e.jsx(F,{onClick:()=>C(`${E.Markets}/${ee.New}`),size:V.Small,children:r({key:a.PROPOSE_NEW_MARKET})})})]})})]})},Ze=o(ue).withConfig({componentId:"sc-5x1g9q-0"})(["max-width:100vw;overflow:hidden;margin-bottom:0.625rem;padding-left:0.375rem;padding-right:0;@media ","{padding-right:0.375rem;}@media ","{padding-left:1rem;padding-right:1rem;}"],p.desktopSmall,p.tablet),et=o(Y).withConfig({componentId:"sc-5x1g9q-1"})([""," tbody{--tableCell-padding:1rem 0;}@media ","{table{max-width:100vw;}}"],ne.horizontalTable,p.tablet),B=o(y).withConfig({componentId:"sc-5x1g9q-2"})({color:"var(--color-text-2)",font:"var(--font-medium-book)"}),ae=o.div.withConfig({componentId:"sc-5x1g9q-3"})({display:"inline-flex",alignItems:"center",gap:"0.5ch",minWidth:"max-content"});var tt=o(ae).withConfig({componentId:"sc-5x1g9q-4"})({font:"var(--font-small-book)"});const _=o(y).withConfig({componentId:"sc-5x1g9q-5"})({color:"var(--color-text-2)",font:"var(--font-base-medium)"}),M=o(y).withConfig({componentId:"sc-5x1g9q-6"})(["color:",";font:var(--font-base-medium);"],({isNegative:n,isPositive:r})=>n?"var(--color-negative)":r?"var(--color-positive)":"var(--color-text-1)"),nt=o.div.withConfig({componentId:"sc-5x1g9q-7"})([""," justify-content:center;align-items:center;text-align:center;gap:1rem;padding:2rem 1.5rem;h2{font:var(--font-medium-book);font-weight:500;}"],v.column);var ot=o("div").withConfig({componentId:"sc-5x1g9q-8"})({height:"2rem",width:"3rem"});const yt=()=>{const n=T(),r=$(),i=ve(),[l,m]=w.useState(!0),{hasPotentialMarketsData:u}=Z();ye(n({key:a.MARKETS}));const h=w.useMemo(()=>i!=null&&i[be.ffShowPredictionMarketsUi]?e.jsxs(lt,{to:`${E.Trade}/${Ce.TRUMPWIN}`,children:[e.jsxs("span",{children:["🇺🇸 ",n({key:a.LEVERAGE_TRADE_US_ELECTION})]}),e.jsx(st,{}),e.jsx(ke,{iconName:A.Arrow})]}):null,[i,n]);return e.jsxs(at,{children:[e.jsxs(it,{children:[e.jsx(rt,{title:n({key:a.MARKETS}),slotRight:u&&e.jsx(F,{action:W.Primary,onClick:()=>r(`${E.Markets}/${ee.New}`),children:n({key:a.ADD_A_MARKET})})}),h,e.jsxs(mt,{htmlFor:"highlights",children:[n({key:a.HIDE}),e.jsx(je,{name:"highlights",checked:l,onCheckedChange:m})]}),e.jsx(dt,{showHighlights:l})]}),e.jsx(ct,{})]})},at=o.div.withConfig({componentId:"sc-8eiymn-0"})(["",""],v.contentContainerPage),rt=o(Ie).withConfig({componentId:"sc-8eiymn-1"})(["margin-top:1rem;padding-top:0;margin-bottom:0;h3{font:var(--font-extra-medium);}@media ","{margin-top:0;padding:1.25rem 1.5rem 0;h3{font:var(--font-extra-medium);}}"],p.tablet),it=o.section.withConfig({componentId:"sc-8eiymn-2"})([""," margin-bottom:1.5rem;@media ","{"," gap:1rem;margin-bottom:1rem;}"],v.contentSectionDetached,p.tablet,v.flexColumn),lt=o(we).withConfig({componentId:"sc-8eiymn-3"})([""," height:5rem;border-radius:10px;background-color:var(--color-layer-1);margin-bottom:1rem;padding:0 1.5rem;justify-content:space-between;gap:0.5rem;position:relative;overflow:hidden;span{font:var(--font-medium-medium);}@media ","{margin-left:1rem;margin-right:1rem;}@media ","{span,button{z-index:1;}}"],v.row,p.desktopSmall,p.tablet),st=o.div.withConfig({componentId:"sc-8eiymn-4"})(["width:573px;height:100%;background-image:",";background-repeat:no-repeat;@media ","{position:absolute;width:100%;z-index:0;}"],({theme:n})=>`
    linear-gradient(90deg, ${n.layer1} 0%, ${n.tooltipBackground} 53%, ${n.layer1} 99%),
    url('/AmericanFlag.png')
  `,p.mobile),ct=o(Je).withConfig({componentId:"sc-8eiymn-5"})(["",""],v.contentSectionAttached),dt=o(We).withConfig({componentId:"sc-8eiymn-6"})(["",""],({showHighlights:n})=>!n&&"display: none;"),mt=o.label.withConfig({componentId:"sc-8eiymn-7"})(["align-items:center;gap:1rem;margin-bottom:1.25rem;display:none;cursor:pointer;@media ","{padding-left:1rem;padding-right:1rem;}@media ","{padding-left:1.5rem;padding-right:1.5rem;margin-bottom:0;display:flex;}"],p.desktopSmall,p.tablet);export{yt as default};
